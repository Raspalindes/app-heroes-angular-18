<div class="hero-list">
  <!-- Renderiza la lista de héroes si existen -->
  @if ($allHeroes(); as heroes) {
    <div class="hero-list__container">
      <h1 class="hero-list__title">Lista de Héroes</h1>

      <!-- Barra de búsqueda y botón de añadir -->
      <div class="hero-list__toolbar">
        <input
          type="text"
          class="hero-list__search"
          placeholder="Buscar héroe..."
          #searchInput />
        <button class="hero-list__btn--add" (click)="addHero()">
          + Añadir Héroe
        </button>
      </div>

      <div class="hero-list__flex">
        <!-- Itera sobre cada héroe y muestra su información -->
        @for (hero of heroes; track hero.id) {
          <div class="hero-list__card">
            <!-- Enlace que envuelve toda la tarjeta -->
            <a
              [routerLink]="['/heroes/detail', hero.id]"
              class="hero-list__card-link">
              <!-- Imagen del héroe -->
              <img
                [src]="hero | heroImage"
                [alt]="hero.superhero"
                class="hero-list__card-image" />

              <!-- Nombre del héroe -->
              <h2 class="hero-list__card-name">{{ hero.superhero }}</h2>
            </a>

            <!-- Botones de acción -->
            <div class="hero-list__card-actions">
              <button
                class="hero-list__btn hero-list__btn--edit"
                (click)="editHero(hero.id)">
                Editar
              </button>
              <button
                class="hero-list__btn hero-list__btn--delete"
                (click)="onDeleteHero(hero)">
                Eliminar
              </button>
            </div>
          </div>
        } @empty {
          <div class="hero-list__error">
            <p class="hero-list__error-message">No hay héroes para mostrar.</p>
          </div>
        }
      </div>
    </div>
  }

  <!-- Diálogo de confirmación -->
  @if ($heroToDelete(); as hero) {
    <app-confirm-dialog
      [hero]="hero"
      (confirmed)="confirmDelete()"
      (cancelled)="cancelDelete()" />
  }
</div>
